




<html lang="en">
  
  <head>
    
      <meta charset="utf-8">
      <title>Bokeh Plot</title>
      
      
        
          
        
        
          
        <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-1.3.4.min.js"></script>
        <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-1.3.4.min.js"></script>
        <script type="text/javascript">
            Bokeh.set_log_level("info");
        </script>
        
      
      
    
  </head>
  
  
  <body>
    
      
        
          
          
            
              <div class="bk-root" id="4463ae58-8710-4d4d-8f90-d534cb090218" data-root-id="12529"></div>
            
          
        
      
      
        <script type="application/json" id="12677">
          {"ac6574e5-f52e-46a9-99a2-0890166de947":{"roots":{"references":[{"attributes":{},"id":"12538","type":"BasicTickFormatter"},{"attributes":{"callback":null,"data":{"bias":[0.5]},"selected":{"id":"12582","type":"Selection"},"selection_policy":{"id":"12581","type":"UnionRenderers"}},"id":"12520","type":"ColumnDataSource"},{"attributes":{},"id":"12504","type":"ResetTool"},{"attributes":{"background_fill_color":{"value":"#EEEEEE"},"below":[{"id":"12490","type":"LinearAxis"}],"center":[{"id":"12494","type":"Grid"},{"id":"12499","type":"Grid"},{"id":"12541","type":"Legend"}],"left":[{"id":"12495","type":"LinearAxis"}],"plot_height":300,"plot_width":550,"renderers":[{"id":"12533","type":"GlyphRenderer"},{"id":"12546","type":"GlyphRenderer"},{"id":"12560","type":"GlyphRenderer"}],"title":{"id":"12515","type":"Title"},"toolbar":{"id":"12506","type":"Toolbar"},"x_range":{"id":"12482","type":"Range1d"},"x_scale":{"id":"12486","type":"LinearScale"},"y_range":{"id":"12484","type":"Range1d"},"y_scale":{"id":"12488","type":"LinearScale"}},"id":"12481","subtype":"Figure","type":"Plot"},{"attributes":{"grid_line_color":"#FFFFFF","grid_line_width":0.75,"ticker":{"id":"12491","type":"BasicTicker"}},"id":"12494","type":"Grid"},{"attributes":{"line_color":"#7E59A2","line_width":2,"x":{"field":"probability"},"y":{"field":"posterior"}},"id":"12531","type":"Line"},{"attributes":{},"id":"12503","type":"SaveTool"},{"attributes":{"line_color":"#E39943","line_width":2,"x":{"field":"probability"},"y":{"field":"prior"}},"id":"12544","type":"Line"},{"attributes":{},"id":"12554","type":"UnionRenderers"},{"attributes":{"callback":null,"data":{"flips":[]},"selected":{"id":"12579","type":"Selection"},"selection_policy":{"id":"12578","type":"UnionRenderers"}},"id":"12521","type":"ColumnDataSource"},{"attributes":{},"id":"12582","type":"Selection"},{"attributes":{"dimension":1,"grid_line_color":"#FFFFFF","grid_line_width":0.75,"ticker":{"id":"12496","type":"BasicTicker"},"visible":false},"id":"12499","type":"Grid"},{"attributes":{"bottom_units":"screen","fill_alpha":{"value":0.5},"fill_color":{"value":"lightgrey"},"left_units":"screen","level":"overlay","line_alpha":{"value":1.0},"line_color":{"value":"black"},"line_dash":[4,4],"line_width":{"value":2},"render_mode":"css","right_units":"screen","top_units":"screen"},"id":"12540","type":"BoxAnnotation"},{"attributes":{"bar_color":"#EEBA7F","callback":null,"end":5,"js_property_callbacks":{"change:value":[{"id":"12525","type":"CustomJS"}]},"start":0.0001,"step":0.0001,"title":"Prior \u03c3","value":0.1},"id":"12480","type":"Slider"},{"attributes":{},"id":"12555","type":"Selection"},{"attributes":{},"id":"12500","type":"PanTool"},{"attributes":{},"id":"12486","type":"LinearScale"},{"attributes":{"axis_label":"coin bias","axis_line_color":{"value":"slategray"},"formatter":{"id":"12538","type":"BasicTickFormatter"},"major_tick_line_color":{"value":null},"minor_tick_line_color":{"value":null},"ticker":{"id":"12491","type":"BasicTicker"}},"id":"12490","type":"LinearAxis"},{"attributes":{},"id":"12491","type":"BasicTicker"},{"attributes":{"angle":{"units":"rad","value":1.5707963267948966},"length":{"units":"data","value":0},"line_alpha":{"value":0.1},"line_color":{"value":"#1f77b4"},"line_width":{"value":2},"x":{"field":"bias"},"y":{"value":0}},"id":"12559","type":"Ray"},{"attributes":{"overlay":{"id":"12540","type":"BoxAnnotation"}},"id":"12502","type":"BoxZoomTool"},{"attributes":{"source":{"id":"12519","type":"ColumnDataSource"}},"id":"12534","type":"CDSView"},{"attributes":{"data_source":{"id":"12519","type":"ColumnDataSource"},"glyph":{"id":"12544","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"12545","type":"Line"},"selection_glyph":null,"view":{"id":"12547","type":"CDSView"}},"id":"12546","type":"GlyphRenderer"},{"attributes":{"label":{"value":"prior probability"},"renderers":[{"id":"12546","type":"GlyphRenderer"}]},"id":"12556","type":"LegendItem"},{"attributes":{},"id":"12578","type":"UnionRenderers"},{"attributes":{"source":{"id":"12519","type":"ColumnDataSource"}},"id":"12547","type":"CDSView"},{"attributes":{"callback":null,"icon":null,"js_event_callbacks":{"button_click":[{"id":"12524","type":"CustomJS"}]},"label":"Click to generate new coinflips"},"id":"12476","type":"Button"},{"attributes":{},"id":"12537","type":"BasicTickFormatter"},{"attributes":{},"id":"12496","type":"BasicTicker"},{"attributes":{"callback":null,"end":1.05},"id":"12484","type":"Range1d"},{"attributes":{"ticks":[-10,10]},"id":"12513","type":"FixedTicker"},{"attributes":{"callback":null},"id":"12482","type":"Range1d"},{"attributes":{"bar_color":"#EEBA7F","callback":null,"end":1,"js_property_callbacks":{"change:value":[{"id":"12525","type":"CustomJS"}]},"start":0,"step":0.001,"title":"Prior \u00b5","value":0.5},"id":"12479","type":"Slider"},{"attributes":{},"id":"12505","type":"HelpTool"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"probability"},"y":{"field":"prior"}},"id":"12545","type":"Line"},{"attributes":{"background_fill_alpha":{"value":0.75},"background_fill_color":{"value":"#EEEEEE"},"border_line_color":{"value":"slategray"},"border_line_width":{"value":0.75},"items":[{"id":"12542","type":"LegendItem"},{"id":"12556","type":"LegendItem"},{"id":"12570","type":"LegendItem"}]},"id":"12541","type":"Legend"},{"attributes":{"background_fill_alpha":{"value":0},"offset":2,"text":"Click button to initialize flips","text_color":{"value":"#3c3c3c"},"text_font":"Arial","text_font_style":"italic"},"id":"12515","type":"Title"},{"attributes":{"callback":null,"data":{"posterior":{"__ndarray__":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==","dtype":"float64","shape":[500]},"prior":{"__ndarray__":"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==","dtype":"float64","shape":[500]},"probability":{"__ndarray__":"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","dtype":"float64","shape":[500]}},"selected":{"id":"12555","type":"Selection"},"selection_policy":{"id":"12554","type":"UnionRenderers"}},"id":"12519","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"12479","type":"Slider"},{"id":"12480","type":"Slider"}]},"id":"12527","type":"WidgetBox"},{"attributes":{"active_drag":"auto","active_inspect":"auto","active_multi":null,"active_scroll":"auto","active_tap":"auto","tools":[{"id":"12500","type":"PanTool"},{"id":"12501","type":"WheelZoomTool"},{"id":"12502","type":"BoxZoomTool"},{"id":"12503","type":"SaveTool"},{"id":"12504","type":"ResetTool"},{"id":"12505","type":"HelpTool"}]},"id":"12506","type":"Toolbar"},{"attributes":{"label":{"value":"posterior probability"},"renderers":[{"id":"12533","type":"GlyphRenderer"}]},"id":"12542","type":"LegendItem"},{"attributes":{"data_source":{"id":"12519","type":"ColumnDataSource"},"glyph":{"id":"12531","type":"Line"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"12532","type":"Line"},"selection_glyph":null,"view":{"id":"12534","type":"CDSView"}},"id":"12533","type":"GlyphRenderer"},{"attributes":{"bar_color":"#A17DB8","callback":null,"end":6,"js_property_callbacks":{"change:value":[{"id":"12525","type":"CustomJS"}]},"start":0,"step":0.001,"title":"Display first log\u2081\u2080 coin flips","value":1},"id":"12477","type":"Slider"},{"attributes":{"axis_label":"\u221d probability","axis_line_color":{"value":"slategray"},"formatter":{"id":"12537","type":"BasicTickFormatter"},"major_tick_line_color":{"value":null},"minor_tick_line_color":{"value":null},"ticker":{"id":"12513","type":"FixedTicker"}},"id":"12495","type":"LinearAxis"},{"attributes":{"children":[{"id":"12526","type":"WidgetBox"},{"id":"12527","type":"WidgetBox"}]},"id":"12528","type":"Row"},{"attributes":{"children":[{"id":"12477","type":"Slider"},{"id":"12478","type":"Slider"}]},"id":"12526","type":"WidgetBox"},{"attributes":{"angle":{"units":"rad","value":1.5707963267948966},"length":{"units":"data","value":0},"line_color":{"value":"#444147"},"line_width":{"value":2},"x":{"field":"bias"},"y":{"value":0}},"id":"12558","type":"Ray"},{"attributes":{"args":{"coin_bias":{"id":"12478","type":"Slider"},"flip_source":{"id":"12521","type":"ColumnDataSource"},"flip_viewer":{"id":"12477","type":"Slider"},"post_source":{"id":"12519","type":"ColumnDataSource"},"prior_mu":{"id":"12479","type":"Slider"},"prior_sig":{"id":"12480","type":"Slider"},"title":{"id":"12515","type":"Title"}},"code":"\n// Generate the coinflips based on the entered values   \nvar bias = coin_bias.value;\n\n// *Always* compute 1E6 flips\nvar flips = new Array(1000000).fill().map(() =&gt; Math.random() &lt; bias);\nflip_source.data['flips'] = flips;\nflip_source.change.emit();\n\n    // Filters the output of flipper based on the number of flips to observe. \n    var n_displayed = Math.floor(Math.pow(10, flip_viewer.value));\n\n    // compute the number of heads in the newly sliced array\n    var displayed_flips = flip_source.data['flips'].slice(0, n_displayed);\n    var n_flips = n_displayed;\n    var n_heads = displayed_flips.reduce((v1, v2) =&gt; v1 + v2);\n    \n    // Update the title to reflect the number of displayed coin flips.\n    title.text = \"Displaying \" + n_displayed + \" coin flips\"\n\n// Define a gamma function using the Lanczos approximation\n// See https://github.com/substack/gamma.js for node module\n var g_ln = 607/128;\n var p_ln = [0.99999999999999709182,57.156235665862923517,-59.597960355475491248,\n            14.136097974741747174,-0.49191381609762019978,0.33994649984811888699e-4,\n            0.46523628927048575665e-4,-0.98374475304879564677e-4,0.15808870322491248884e-3,\n            -0.21026444172410488319e-3,0.21743961811521264320e-3,-0.16431810653676389022e-3,\n            0.84418223983852743293e-4, -0.26190838401581408670e-4,0.36899182659531622704e-5];\n // Spouge approximation (suitable for large arguments)\nfunction lngamma(z) {  \n      if (z &lt; 0) {return Number('0/0')};\n      var x = p_ln[0];\n      for(var i = p_ln.length - 1; i &gt; 0; --i) { \n            x += p_ln[i] / (z + i)\n        };\n      var t = z + g_ln + 0.5;\n      return .5*Math.log(2*Math.PI)+(z+.5)*Math.log(t)-t+Math.log(x)-Math.log(z);\n  }\n\n\n// Define the log likelihood\nfunction logLike(n, N, p) {\n    var binomCoeff = lngamma(N + 1) - lngamma(n + 1) - lngamma(N - n + 1)\n    var prob = n * Math.log(p) +  (N - n) * Math.log(1 - p)\n    return binomCoeff + prob;\n}\n\n// Define the log prior\nfunction logPriorNormal(x) { \n    var prefactor = -0.5 * Math.log(Math.sqrt(2 * Math.PI * Math.pow(prior_sig.value, 2)));\n    var expon = - Math.pow(x - prior_mu.value, 2) / (Math.pow(prior_sig.value, 2));\n    return prefactor + expon\n}\n\nfunction logSumExp(vals) {\n    var maxVal = Math.max.apply(null, vals);\n    var sum_value = 0\n    for (var i = 0; i &lt; vals.length; i++) {\n        sum_value += Math.exp(vals[i] - maxVal);\n    } \n   return maxVal + Math.log(sum_value);\n}\n\n// Evaluate the posterior\nvar log_posterior = [];\nvar prior = []\nfor (var i = 0; i &lt; post_source.data['probability'].length; i++) {\n    var prob = post_source.data['probability'][i]\n    var log_likelihood = logLike(n_heads, n_flips, prob);\n\n    log_prior = logPriorNormal(prob);\n    log_posterior[i] = log_likelihood + log_prior;\n    prior[i] = Math.exp(log_prior);\n}\n\n// Use the logsumexp trick to normalize the posterior\nvar summed = logSumExp(log_posterior);\nvar posterior= []\nfor (var i = 0 ; i &lt; log_posterior.length; i++) { \n   posterior[i] = Math.exp(log_posterior[i] - summed);\n}\n\n// Rescale everything to be on the same meaningless scale ([0, 1]).\nvar maxPrior = Math.max(...prior)\nvar maxPosterior = Math.max(...posterior)\nvar priorNorm = []\nvar posteriorNorm = []\nfor (var i = 0; i &lt; post_source.data['probability'].length; i++) {\n    priorNorm[i] = prior[i] / maxPrior;\n    posteriorNorm[i] = posterior[i] / maxPosterior;\n}\n\n// Update the source data.\npost_source.data['posterior'] = posteriorNorm;\npost_source.data['prior'] = priorNorm;\npost_source.change.emit();\n"},"id":"12524","type":"CustomJS"},{"attributes":{"line_alpha":0.1,"line_color":"#1f77b4","line_width":2,"x":{"field":"probability"},"y":{"field":"posterior"}},"id":"12532","type":"Line"},{"attributes":{"label":{"value":"true coin bias"},"renderers":[{"id":"12560","type":"GlyphRenderer"}]},"id":"12570","type":"LegendItem"},{"attributes":{},"id":"12501","type":"WheelZoomTool"},{"attributes":{"args":{"bias_source":{"id":"12520","type":"ColumnDataSource"},"coin_bias":{"id":"12478","type":"Slider"}},"code":"\n                    bias_source.data['bias'] = [coin_bias.value]; \n                    bias_source.change.emit();"},"id":"12522","type":"CustomJS"},{"attributes":{"bar_color":"#A17DB8","callback":null,"end":1,"js_property_callbacks":{"change:value":[{"id":"12522","type":"CustomJS"}]},"start":0.001,"step":0.001,"title":"Coin bias","value":0.5},"id":"12478","type":"Slider"},{"attributes":{"source":{"id":"12520","type":"ColumnDataSource"}},"id":"12561","type":"CDSView"},{"attributes":{},"id":"12581","type":"UnionRenderers"},{"attributes":{},"id":"12579","type":"Selection"},{"attributes":{"args":{"coin_bias":{"id":"12478","type":"Slider"},"flip_source":{"id":"12521","type":"ColumnDataSource"},"flip_viewer":{"id":"12477","type":"Slider"},"post_source":{"id":"12519","type":"ColumnDataSource"},"prior_mu":{"id":"12479","type":"Slider"},"prior_sig":{"id":"12480","type":"Slider"},"title":{"id":"12515","type":"Title"}},"code":"\n    // Filters the output of flipper based on the number of flips to observe. \n    var n_displayed = Math.floor(Math.pow(10, flip_viewer.value));\n\n    // compute the number of heads in the newly sliced array\n    var displayed_flips = flip_source.data['flips'].slice(0, n_displayed);\n    var n_flips = n_displayed;\n    var n_heads = displayed_flips.reduce((v1, v2) =&gt; v1 + v2);\n    \n    // Update the title to reflect the number of displayed coin flips.\n    title.text = \"Displaying \" + n_displayed + \" coin flips\"\n\n// Define a gamma function using the Lanczos approximation\n// See https://github.com/substack/gamma.js for node module\n var g_ln = 607/128;\n var p_ln = [0.99999999999999709182,57.156235665862923517,-59.597960355475491248,\n            14.136097974741747174,-0.49191381609762019978,0.33994649984811888699e-4,\n            0.46523628927048575665e-4,-0.98374475304879564677e-4,0.15808870322491248884e-3,\n            -0.21026444172410488319e-3,0.21743961811521264320e-3,-0.16431810653676389022e-3,\n            0.84418223983852743293e-4, -0.26190838401581408670e-4,0.36899182659531622704e-5];\n // Spouge approximation (suitable for large arguments)\nfunction lngamma(z) {  \n      if (z &lt; 0) {return Number('0/0')};\n      var x = p_ln[0];\n      for(var i = p_ln.length - 1; i &gt; 0; --i) { \n            x += p_ln[i] / (z + i)\n        };\n      var t = z + g_ln + 0.5;\n      return .5*Math.log(2*Math.PI)+(z+.5)*Math.log(t)-t+Math.log(x)-Math.log(z);\n  }\n\n\n// Define the log likelihood\nfunction logLike(n, N, p) {\n    var binomCoeff = lngamma(N + 1) - lngamma(n + 1) - lngamma(N - n + 1)\n    var prob = n * Math.log(p) +  (N - n) * Math.log(1 - p)\n    return binomCoeff + prob;\n}\n\n// Define the log prior\nfunction logPriorNormal(x) { \n    var prefactor = -0.5 * Math.log(Math.sqrt(2 * Math.PI * Math.pow(prior_sig.value, 2)));\n    var expon = - Math.pow(x - prior_mu.value, 2) / (Math.pow(prior_sig.value, 2));\n    return prefactor + expon\n}\n\nfunction logSumExp(vals) {\n    var maxVal = Math.max.apply(null, vals);\n    var sum_value = 0\n    for (var i = 0; i &lt; vals.length; i++) {\n        sum_value += Math.exp(vals[i] - maxVal);\n    } \n   return maxVal + Math.log(sum_value);\n}\n\n// Evaluate the posterior\nvar log_posterior = [];\nvar prior = []\nfor (var i = 0; i &lt; post_source.data['probability'].length; i++) {\n    var prob = post_source.data['probability'][i]\n    var log_likelihood = logLike(n_heads, n_flips, prob);\n\n    log_prior = logPriorNormal(prob);\n    log_posterior[i] = log_likelihood + log_prior;\n    prior[i] = Math.exp(log_prior);\n}\n\n// Use the logsumexp trick to normalize the posterior\nvar summed = logSumExp(log_posterior);\nvar posterior= []\nfor (var i = 0 ; i &lt; log_posterior.length; i++) { \n   posterior[i] = Math.exp(log_posterior[i] - summed);\n}\n\n// Rescale everything to be on the same meaningless scale ([0, 1]).\nvar maxPrior = Math.max(...prior)\nvar maxPosterior = Math.max(...posterior)\nvar priorNorm = []\nvar posteriorNorm = []\nfor (var i = 0; i &lt; post_source.data['probability'].length; i++) {\n    priorNorm[i] = prior[i] / maxPrior;\n    posteriorNorm[i] = posterior[i] / maxPosterior;\n}\n\n// Update the source data.\npost_source.data['posterior'] = posteriorNorm;\npost_source.data['prior'] = priorNorm;\npost_source.change.emit();\n"},"id":"12525","type":"CustomJS"},{"attributes":{"data_source":{"id":"12520","type":"ColumnDataSource"},"glyph":{"id":"12558","type":"Ray"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"12559","type":"Ray"},"selection_glyph":null,"view":{"id":"12561","type":"CDSView"}},"id":"12560","type":"GlyphRenderer"},{"attributes":{"children":[{"id":"12476","type":"Button"},{"id":"12528","type":"Row"},{"id":"12481","subtype":"Figure","type":"Plot"}]},"id":"12529","type":"Column"},{"attributes":{},"id":"12488","type":"LinearScale"}],"root_ids":["12529"]},"title":"Bokeh Application","version":"1.3.4"}}
        </script>
        <script type="text/javascript">
          (function() {
            var fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {
                    
                  var docs_json = document.getElementById('12677').textContent;
                  var render_items = [{"docid":"ac6574e5-f52e-46a9-99a2-0890166de947","roots":{"12529":"4463ae58-8710-4d4d-8f90-d534cb090218"}}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);
                
                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    var attempts = 0;
                    var timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        embed_document(root);
                        clearInterval(timer);
                      }
                      attempts++;
                      if (attempts > 100) {
                        console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                        clearInterval(timer);
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != "loading") fn();
            else document.addEventListener("DOMContentLoaded", fn);
          })();
        </script>
    
  </body>
  
</html>
